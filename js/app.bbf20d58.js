(function(t){function e(e){for(var n,a,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);m&&m(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),o()}function o(){for(var t,e=0;e<i.length;e++){for(var o=i[e],n=!0,r=1;r<o.length;r++){var l=o[r];0!==s[l]&&(n=!1)}n&&(i.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},s={app:0},i=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var m=l;i.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},1613:function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e),o.d(e,"pokeApiUrl",(function(){return Z}));o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("div",{attrs:{id:"nav"}},[o("router-link",{attrs:{to:"/"}},[t._v("Pokemons")]),t._v(" | "),o("router-link",{attrs:{to:"/my-collection"}},[t._v("My pokemons")]),t._v(" | "),o("router-link",{attrs:{to:"/wishlist"}},[t._v("Wishlist")])],1),o("router-view")],1)},i=[],a=(o("5c0b"),o("2877")),r={},l=Object(a["a"])(r,s,i,!1,null,null,null),c=l.exports,m=o("8c4f"),u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pokemon-list container-fluid"},[o("h1",[t._v("Dominik's pokeIndex")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"overflow-auto"},[o("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,"aria-controls":"my-table"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}),o("p",{staticClass:"mt-3"},[t._v("Current Page: "+t._s(t.currentPage))])],1)]),o("div",{staticClass:"col-md-6"},[o("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[o("b-input-group",{attrs:{size:"sm"}},[o("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),o("b-input-group-append",[o("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}],staticClass:"row"},[o("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaded&&""!==t.error,expression:"!loaded && error !== ''"}],staticClass:"row"},[t._v(" "+t._s(t.error)+" ")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"row"},[o("div",{staticClass:"col-md-12",attrs:{id:"pokemon-table"}},[o("b-table",{attrs:{"show-empty":"",striped:"","sort-icon-left":"",id:"my-table",items:t.pokemonList,filter:t.filter,fields:t.fields,"per-page":t.perPage,"current-page":t.currentPage},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v(" "+t._s(e.index+1+(t.currentPage-1)*t.perPage)+" ")]}},{key:"cell(name)",fn:function(e){return[o("router-link",{attrs:{to:{name:"pokemonDetail",params:{pokemonName:e.value}}}},[t._v(t._s(e.value)+" ")])]}}])})],1)])])},p=[],d=(o("d3b7"),o("99af"),o("8226")),f=o("5e12"),v=o("4797"),k=o("1947"),h=o("29a1"),b=o("01e3"),g=o("26d2"),_=o("ccc0"),w={name:"Pokemons",components:{BFormGroup:d["a"],BInputGroup:f["a"],BFormInput:v["a"],BButton:k["a"],BTable:h["a"],BSpinner:b["a"],BPagination:g["a"],BInputGroupAppend:_["a"]},data:function(){return{perPage:20,fields:["index",{key:"name",sortable:!0}],currentPage:1,pokemonList:[],totalRows:1,filter:null,loaded:!1,error:""}},methods:{onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getAllPokemons:function(t){var e=this;fetch("".concat(Z,"/pokemon?limit=").concat(t,"/"),{mode:"cors"}).then((function(t){return t.json()})).then((function(t){e.pokemonList=t.results,e.totalRows=t.results.length,e.loaded=!0}))}},mounted:function(){var t=this;fetch("".concat(Z,"/pokemon?limit=1"),{mode:"cors"}).then((function(t){return t.json()})).then((function(e){void 0!==e.count?t.getAllPokemons(e.count):t.getAllPokemons(1e4)})).catch((function(){t.error="Unexpected error with PokeAPI please try later"}))}},y=w,C=(o("8f5c"),Object(a["a"])(y,u,p,!1,null,"89a5cbb2",null)),P=C.exports,N=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pokemon-detail container"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}],staticClass:"row"},[o("b-spinner",{attrs:{variant:"primary",label:"Spinning"}})],1),!t.errorMsg&&t.loaded?o("div",[o("div",{staticClass:"row mb-3"},[o("div",{staticClass:"col"},[o("h1",[t._v(t._s(t._f("capitalize")(t.pokemonName)))])])]),o("div",{staticClass:"row mb-3"},[o("table",{staticClass:"intro"},[o("tr",[o("td",[t._v("Weight: "+t._s(t.pokemonAttributes.weight))]),o("td",[t._v("Height: "+t._s(t.pokemonAttributes.height))]),o("td",[t._v("Type: "+t._s(t._f("capitalize")(t.pokemonAttributes.types[0].type.name)))])])])]),o("div",{staticClass:"row mb-3"},[o("div",{staticClass:"col-md-12"},[o("img",{directives:[{name:"show",rawName:"v-show",value:t.pokemonAttributes.sprites.front_default,expression:"pokemonAttributes.sprites.front_default"}],staticClass:"pokemon-image",attrs:{src:t.pokemonAttributes.sprites.front_default,alt:"pokemon-front"}}),o("img",{directives:[{name:"show",rawName:"v-show",value:t.pokemonAttributes.sprites.front_shiny,expression:"pokemonAttributes.sprites.front_shiny"}],staticClass:"pokemon-image",attrs:{src:t.pokemonAttributes.sprites.front_shiny,alt:"pokemon-front"}}),o("img",{directives:[{name:"show",rawName:"v-show",value:t.pokemonAttributes.sprites.back_default,expression:"pokemonAttributes.sprites.back_default"}],staticClass:"pokemon-image",attrs:{src:t.pokemonAttributes.sprites.back_default,alt:"pokemon-back"}}),o("img",{directives:[{name:"show",rawName:"v-show",value:t.pokemonAttributes.sprites.back_shiny,expression:"pokemonAttributes.sprites.back_shiny"}],staticClass:"pokemon-image",attrs:{src:t.pokemonAttributes.sprites.back_shiny,alt:"pokemon-back"}})])]),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-12"},[o("b-tabs",{attrs:{"content-class":"mt-3",fill:""}},[o("b-tab",{attrs:{title:"Basic stats",active:""}},[o("table",[o("tr",[o("th",[t._v("Base")]),o("th",[t._v("Stats")])]),t._l(t.pokemonAttributes.stats,(function(e,n){return o("tr",{key:n},[o("td",[t._v(t._s(t._f("capitalize")(e.stat.name)))]),o("td",[t._v(t._s(e.base_stat))])])}))],2)]),o("b-tab",{attrs:{title:"Moves"}},[o("ul",{staticClass:"moves"},t._l(t.pokemonAttributes.moves,(function(e,n){return o("li",{key:n},[t._v(t._s(e.move.name)+" ")])})),0)]),o("b-tab",{attrs:{title:"Held items"}},[0===t.pokemonAttributes.held_items.length?o("p",[t._v("This pokemon doesn't hold any items")]):o("div",[o("ul",t._l(t.pokemonAttributes.held_items,(function(e,n){return o("li",{key:n},[t._v(t._s(e.item.name))])})),0)])])],1)],1)]),o("div",{staticClass:"row mt-3"},[o("div",{staticClass:"col"},[o("b-alert",{attrs:{dismissible:"",variant:t.alertType,fade:""},model:{value:t.pokemonAdded,callback:function(e){t.pokemonAdded=e},expression:"pokemonAdded"}},[t._v(" "+t._s(t.actionMsg)+" ")])],1)]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"text-center"},[o("b-button",{staticClass:"m-1",attrs:{size:"lg",variant:"success",id:"tp-1"},on:{click:function(e){return t.saveToCollection()}}},[o("b-icon-globe2"),t._v(" Catch! ")],1),o("b-tooltip",{attrs:{target:"tp-1",triggers:"hover"}},[t._v(" Add "),o("b",[t._v(t._s(t.pokemonName))]),t._v(" to your collection ")]),o("b-button",{staticClass:"m-1",attrs:{size:"lg",variant:"outline-primary"},on:{click:function(e){return t.saveToWishlist()}}},[o("b-icon-heart"),t._v(" Add to wishlist ")],1)],1)])])]):o("h3",{staticClass:"text-center"},[t._v(t._s(t.errorMsg))])])},S=[],x=o("6190"),A=o("f902"),B=o("5fda"),O=o("b4ae"),T={mounted:function(){this.pokemonStorage=this.getPokemonCollection(),this.pokemonCollection=this.pokemonStorage.collection,this.pokemonWishList=this.pokemonStorage.wishlist},data:function(){return{pokemonStorage:{},pokemonCollection:{},pokemonWishList:{}}},methods:{getPokemonCollection:function(){var t=window.localStorage.getItem("pokemons");null===t&&(window.localStorage.setItem("pokemons",JSON.stringify({collection:[],wishlist:[]})),t=window.localStorage.getItem("pokemons"));try{t=JSON.parse(t)}catch(e){console.log("Unexpected values in pokemon storage")}return t}}},I=(o("25f0"),o("fb6a"),function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}),j={name:"PokemonDetail",components:{BButton:k["a"],BSpinner:b["a"],BTab:x["a"],BTabs:A["a"],BAlert:B["a"],BTooltip:O["a"]},props:{pokemonName:String},data:function(){return{loaded:!1,pokemonAdded:!1,errorMsg:"",actionMsg:"",alertType:"success",pokemonAttributes:{},pokemonImageUrl:""}},mixins:[T],filters:{capitalize:I},created:function(){this.loadPokemon()},methods:{loadPokemon:function(){var t=this;fetch("".concat(Z,"/pokemon/").concat(this.pokemonName)).then((function(e){if(404!==e.status)return e.json();t.errorMsg="Error, pokemon not found"})).then((function(e){t.pokemonAttributes=e,t.loaded=!0})).catch((function(t){console.error("Error:",t)}))},saveToCollection:function(){this.pokemonCollection.push({id:this.pokemonAttributes.id,name:this.pokemonName}),this.pokemonAdded=!0,this.alertType="success",this.actionMsg="Pokemon added to your collection",window.localStorage.setItem("pokemons",JSON.stringify(this.pokemonStorage))},saveToWishlist:function(){var t=this;this.pokemonWishList.some((function(e){return e.id===t.pokemonAttributes.id}))?(this.actionMsg="This pokemon is already in wishlist",this.alertType="danger"):(this.pokemonWishList.push({id:this.pokemonAttributes.id,name:this.pokemonName,customName:""}),this.actionMsg="".concat(this.pokemonName," added to wishlist."),this.alertType="success",window.localStorage.setItem("pokemons",JSON.stringify(this.pokemonStorage))),this.pokemonAdded=!0}},watch:{$route:function(t){this.loadPokemon()}}},M=j,E=(o("7c75"),Object(a["a"])(M,N,S,!1,null,"0ecf67fa",null)),W=E.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid"},[t._m(0),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("div",{staticClass:"pokemons-raw-data"},[t._v(" "+t._s(t.pokemonCollection)+" ")]),o("b-table",{attrs:{striped:"",hover:"",fields:t.fields,items:this.pokemonStorage.collection},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[o("router-link",{attrs:{to:{name:"pokemonDetail",params:{pokemonName:e.value}}}},[t._v(t._s(e.value)+" ")])]}},{key:"cell(customName)",fn:function(e){return[o("div",[t._v(t._s(e.value))])]}},{key:"cell(action)",fn:function(e){return[o("b-button",{attrs:{variant:"outline-primary m-2"},on:{click:function(o){return t.removeFromCollection(e.index)}}},[t._v("Remove")]),o("b-button",{attrs:{variant:"outline-primary m-2"},on:{click:function(o){return t.renamePokemon(e.index)}}},[t._v("Set custom name")])]}}])})],1)]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.editingName,expression:"editingName"}],ref:"pokemonEdit",staticClass:"row actions"},[o("div",{staticClass:"col-sm-5"},[o("b-form-input",{attrs:{placeholder:"Enter your name"},model:{value:t.customPokemonName,callback:function(e){t.customPokemonName=e},expression:"customPokemonName"}})],1),o("div",{staticClass:"col-sm-5 buttons"},[o("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.saveEdit(t.editingIndex)}}},[t._v("Save")]),o("b-button",{attrs:{variant:"danger"},on:{click:function(e){return t.cancelEdit()}}},[t._v("Cancel")])],1)])])},F=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("h1",[t._v("My pokemon's collection")])])])}],J=(o("a434"),{name:"PokemonCollection",components:{BTable:h["a"],BFormInput:v["a"],BButton:k["a"]},mixins:[T],data:function(){return{fields:["id","name","customName","action"],editingName:!1,customPokemonName:"",editingIndex:null}},methods:{removeFromCollection:function(t){this.pokemonCollection.splice(t,1),window.localStorage.setItem("pokemons",JSON.stringify(this.pokemonStorage))},renamePokemon:function(t){var e=this;this.editingName=!0,this.customPokemonName=this.pokemonCollection[t].customName,this.editingIndex=t,this.$nextTick((function(){e.$refs.pokemonEdit.scrollIntoView(!1)}))},saveEdit:function(t){this.editingName=!1,this.$set(this.pokemonCollection[t],"customName",this.customPokemonName),window.localStorage.setItem("pokemons",JSON.stringify(this.pokemonStorage))},cancelEdit:function(){this.editingName=!1}}}),L=J,z=(o("95a4"),Object(a["a"])(L,$,F,!1,null,"5d88ff96",null)),D=z.exports,R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container-fluid"},[o("h1",[t._v("My pokemon wishlist")]),o("div",{staticClass:"row"},[o("div",{staticClass:"col"},[o("b-table",{attrs:{striped:"",hover:"",fields:t.fields,items:this.pokemonStorage.wishlist},scopedSlots:t._u([{key:"cell(name)",fn:function(e){return[o("router-link",{attrs:{to:{name:"pokemonDetail",params:{pokemonName:e.value}}}},[t._v(t._s(e.value)+" ")])]}},{key:"cell(action)",fn:function(e){return[o("b-button",{attrs:{variant:"outline-primary"},on:{click:function(o){return t.removeFromWhislist(e.index)}}},[t._v("Remove")])]}}])})],1)])])},U=[],G={name:"PokemonWishList",components:{BTable:h["a"],BButton:k["a"]},mixins:[T],data:function(){return{fields:["id","name","action"]}},methods:{removeFromWhislist:function(t){this.pokemonWishList.splice(t,1),window.localStorage.setItem("pokemons",JSON.stringify(this.pokemonStorage))}}},H=G,V=Object(a["a"])(H,R,U,!1,null,"19b1f49a",null),q=V.exports;n["a"].use(m["a"]);var K=[{path:"/",name:"Pokemons",component:P},{path:"/my-collection",name:"PokemonCollection",component:D},{path:"/wishlist",name:"PokemonDetail",component:q},{path:"/pokemon/:pokemonName",component:W,name:"pokemonDetail",props:!0}],Q=new m["a"]({routes:K}),X=Q,Y=o("b1e0"),Z=(o("f9e3"),o("2dd8"),"https://pokeapi.co/api/v2");n["a"].config.productionTip=!1,n["a"].use(Y["a"]),new n["a"]({router:X,render:function(t){return t(c)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";o("9c0c")},"5d47":function(t,e,o){},"7c75":function(t,e,o){"use strict";o("1613")},"8f5c":function(t,e,o){"use strict";o("ad7f")},"95a4":function(t,e,o){"use strict";o("5d47")},"9c0c":function(t,e,o){},ad7f:function(t,e,o){}});
//# sourceMappingURL=app.bbf20d58.js.map